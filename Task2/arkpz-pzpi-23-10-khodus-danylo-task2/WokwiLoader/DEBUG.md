# Debug Mode - –û—Ç–ª–∞–¥–∫–∞ WokwiLoader

## –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏

```bash
dotnet run -- --debug
# –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è
dotnet run -- -d
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Debug Mode?

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–∞–π–ª

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å —Ñ–ª–∞–≥–æ–º `--debug` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JSON-–∑–∞–ø—Ä–æ—Å –≤ —Ñ–∞–π–ª:

```
debug_request_20251206_143052.json
```

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–Ω–æ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ Wokwi API.

### 2. –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—ã–≤–æ–¥–∏—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ KB
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
- –ü—É—Ç—å –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–º—É debug-—Ñ–∞–π–ª—É

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
3. –û—Ç–ø—Ä–∞–≤–ª—è—é —Ñ–∞–π–ª—ã –Ω–∞ Wokwi...
   –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: 12.45 KB
   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: 5
   üêõ DEBUG: –ó–∞–ø—Ä–æ—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ debug_request_20251206_143052.json
```

### 3. –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON

–í debug-—Ä–µ–∂–∏–º–µ JSON —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ (WriteIndented = true), —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —á—Ç–µ–Ω–∏–µ.

## –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞ 500 (Internal Server Error)

–ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É 500, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–µ–¥–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏:

```
üí° –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 500:
   1. –î–∞–Ω–Ω—ã–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤)
   2. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
   3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ Cookie)
   4. –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ Wokwi
   5. Project ID –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ > 5MB:
```
‚ö† –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –î–∞–Ω–Ω—ã–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ (>5MB), —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debug-—Ñ–∞–π–ª

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ `debug_request_*.json` –≤ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
```json
{
  "files": [
    {
      "name": "sketch.ino",
      "content": "void setup() { ... }"
    },
    {
      "name": "diagram.json",
      "content": "{...}"
    }
  ],
  "id": "449518275595938817",
  "name": "MyProject",
  "unlisted": false
}
```

### 3. –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ curl

–ú–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤—Ä—É—á–Ω—É—é:

```bash
curl -X POST https://wokwi.com/api/projects/save \
  -H "Content-Type: application/json" \
  -H "Cookie: your_cookie_here" \
  -d @debug_request_20251206_143052.json
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —á–∏—Ç–∞–µ–º—ã–π `content`
- –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –≤ Base64

## –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–º–µ—Ä > 5MB

**–†–µ—à–µ–Ω–∏–µ:**
- –£–¥–∞–ª–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏
- –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –±–æ–ª—å—à–∏—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 2. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `debug_request_*.json`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ UTF-8
- –ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ Base64

### 3. –ù–µ–≤–µ—Ä–Ω—ã–π Project ID

**–ü—Ä–æ–±–ª–µ–º–∞:** 404 –∏–ª–∏ 500 –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `id` –≤ debug-—Ñ–∞–π–ª–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (Cookie)

### 4. –ò—Å—Ç–µ–∫—à–∞—è Cookie

**–ü—Ä–æ–±–ª–µ–º–∞:** 401 –∏–ª–∏ 403 –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—É—é Cookie –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `dotnet run -- --reset-config`
- –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é Cookie

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å debug
dotnet run -- --debug

# –°–º–æ—Ç—Ä–∏–º —Ä–∞–∑–º–µ—Ä
# –í—ã–≤–æ–¥: –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: 15.23 KB

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª
cat debug_request_20251206_143052.json | grep -o "\"name\"" | wc -l
# 25 —Ñ–∞–π–ª–æ–≤
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `debug_request_*.json` –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —Ñ–∞–π–ª:

```json
{
  "name": "image.png",
  "content": "iVBORw0KGgoAAAANSUhEUgAA..." // Base64
}
```

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

```bash
# –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
dotnet run -- --debug
# –°–æ—Ö—Ä–∞–Ω–µ–Ω: debug_request_20251206_140000.json

# –ù–µ—É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–¥–æ–±–∞–≤–∏–ª–∏ —Ñ–∞–π–ª—ã)
dotnet run -- --debug
# –°–æ—Ö—Ä–∞–Ω–µ–Ω: debug_request_20251206_141500.json

# –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º
diff debug_request_20251206_140000.json debug_request_20251206_141500.json
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏

–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–ª–∞–≥–∏:

```bash
# Debug + reset config
dotnet run -- --debug --reset-config

# –ö–æ—Ä–æ—Ç–∫–∏–µ –≤–µ—Ä—Å–∏–∏
dotnet run -- -d -r
```

## –û—á–∏—Å—Ç–∫–∞ debug-—Ñ–∞–π–ª–æ–≤

Debug-—Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`.

–î–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# Windows
del debug_request_*.json

# Linux/Mac
rm debug_request_*.json
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ debug-—Ñ–∞–π–ª
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Cookie
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤
5. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º debug-—Ñ–∞–π–ª–∞ (—É–¥–∞–ª–∏—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!)

## –í–∞–∂–Ω–æ

‚ö†Ô∏è **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ debug-—Ñ–∞–π–ª—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ Cookie –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!**

–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –∑–∞–º–µ–Ω–∏—Ç–µ:
- Cookie (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ –ª–æ–≥–∞—Ö)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–¥
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
