# Быстрый старт - WokwiLoader

## Первый запуск (за 3 минуты)

### Шаг 1: Запуск приложения

**Windows:**
```batch
run.bat
```

**Linux/Mac или PowerShell:**
```bash
cd WokwiLoader
dotnet run
```

### Шаг 2: Заполнение конфигурации

При первом запуске вы увидите:

```
=== Wokwi File Uploader ===

Файл конфигурации 'config.json' не найден!

Давайте создадим конфигурацию:

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
        СОЗДАНИЕ КОНФИГУРАЦИИ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Project ID
   Найдите ID в URL вашего проекта:
   https://wokwi.com/projects/449518275595938817
                              ^^^^^^^^^^^^^^^^^^

   Введите Project ID:
```

#### Где взять Project ID?

1. Откройте ваш проект на Wokwi
2. Посмотрите на URL в адресной строке:
   ```
   https://wokwi.com/projects/YOUR_PROJECT_ID_HERE
   ```
3. Скопируйте цифры после `/projects/`

#### Где взять Cookie?

1. Откройте https://wokwi.com в браузере
2. Войдите в свой аккаунт
3. Нажмите **F12** (открыть DevTools)
4. Перейдите во вкладку **Network** (Сеть)
5. Обновите страницу (**F5**)
6. Кликните на любой запрос к `wokwi.com`
7. Найдите раздел **Request Headers** (Заголовки запроса)
8. Скопируйте полностью значение поля **Cookie**

Пример Cookie:
```
_ga=GA1.2.xxx; _gid=GA1.2.yyy; session=zzz; user_id=123
```

### Шаг 3: Выбор папки

После создания конфигурации вы увидите:

```
Выберите папку для загрузки файлов:
Введите полный путь к папке:
```

Введите **полный путь** к папке с вашими файлами, например:

**Windows:**
```
E:\Projects\MyArduinoProject
```

**Linux/Mac:**
```
/home/user/projects/MyArduinoProject
```

### Шаг 4: Загрузка

Приложение автоматически:

1. ✅ Удалит все старые файлы из проекта
2. ✅ Найдет все файлы в указанной папке (включая подпапки)
3. ✅ Загрузит их на Wokwi с сохранением структуры

Результат:
```
1. Удаляю все файлы из проекта 'MyProject'...
✓ Файлы удалены

2. Загружаю файлы из папки: E:\Projects\MyArduinoProject
   Найдено файлов: 5
   - sketch.ino
   - diagram.json
   - wokwi.toml
   - lib/helper.h
   - lib/helper.cpp

3. Отправляю файлы на Wokwi...
   Ответ сервера: 200 OK
✓ Все файлы успешно загружены!

Проект доступен по адресу: https://wokwi.com/projects/YOUR_PROJECT_ID
```

## Повторные запуски

При следующих запусках приложение будет использовать сохраненную конфигурацию из `config.json`.

### Если путь сохранен в конфиге:
```
Используется папка из конфига: E:\Projects\MyArduinoProject
Использовать эту папку? (Y/n):
```
Просто нажмите **Enter** для подтверждения.

### Если путь не сохранен:
Приложение попросит ввести путь и предложит сохранить его:
```
Сохранить этот путь в конфиге для следующих запусков? (Y/n):
```

## Пересоздание конфигурации

Если нужно изменить Project ID или другие настройки:

**Windows:**
```batch
reset-config.bat
```

**Linux/Mac или PowerShell:**
```bash
cd WokwiLoader
dotnet run -- --reset-config
```

## Troubleshooting

### Ошибка: "Папка не существует"

Убедитесь, что вы указали **полный абсолютный путь**, а не относительный.

❌ Неправильно:
```
./MyProject
MyProject
```

✅ Правильно:
```
E:\Projects\MyProject
/home/user/projects/MyProject
```

### Ошибка: "401 Unauthorized"

Ваша Cookie устарела. Запустите `reset-config.bat` и введите новую Cookie из браузера.

### Ошибка: "404 Not Found"

Проверьте правильность Project ID. Он должен содержать только цифры.

## Примеры использования

### Пример 1: Простой Arduino проект

Структура:
```
MyProject/
├── sketch.ino
├── diagram.json
└── wokwi.toml
```

Результат на Wokwi:
```
sketch.ino
diagram.json
wokwi.toml
```

### Пример 2: Проект с библиотеками

Структура:
```
ComplexProject/
├── main.ino
├── diagram.json
├── lib/
│   ├── sensor.h
│   └── sensor.cpp
└── data/
    └── config.json
```

Результат на Wokwi:
```
main.ino
diagram.json
lib/sensor.h
lib/sensor.cpp
data/config.json
```

Структура папок полностью сохраняется!

## Дополнительно

### Поддерживаемые файлы

**Текстовые** (загружаются как есть):
- .ino, .cpp, .c, .h, .hpp
- .json, .toml, .txt, .md
- Любые другие текстовые файлы

**Бинарные** (кодируются в Base64):
- .bin, .hex
- .png, .jpg, .jpeg, .gif
- .wasm

### Ограничения

- Wokwi может иметь лимиты на размер файлов
- Рекомендуется не загружать файлы больше 5-10 MB

## Нужна помощь?

Смотрите полную документацию в [README.md](README.md)
